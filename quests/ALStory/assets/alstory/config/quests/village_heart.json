{
  "id": "alstory:village_heart",
  "cooldown": -1,
  "perPlayer": true,
  "onAcceptedActions": [
    {
      "id": "addjournalentry",
      "args": [
        "alstory:village_heart",
        "alstory:village_heart-journal-title",
        "alstory:village_heart-journal-step0"
      ]
    },
    {
      "id": "questitem",
      "args": [
        "alstory-keepers-key"
      ]
    },
    {
      "id": "questitem",
      "args": [
        "alstory-ritual-crystalbreaker"
      ]
    },
    {
      "id": "addplayerattribute",
      "args": [
        "alstory_vh_stage",
        "start"
      ]
    },
    {
      "id": "playsound",
      "args": [
        "alegacyvsquest:sounds/queacc",
        "0.175"
      ]
    }
  ],
  "actionObjectives": [
    {
      "id": "sequence",
      "objectiveId": "main",
      "args": [
        "alstory:village_heart",
        "main",
        "heinrich",
        "village",
        "crystals",
        "illa"
      ]
    },
    {
      "id": "interactwithentity",
      "objectiveId": "heinrich",
      "onCompleteActions": "addjournalentry alstory:village_heart alstory:village_heart-journal-title alstory:village_heart-journal-step0; addplayerattribute alstory_vh_stage talkedheinrich",
      "args": [
        "alstory:village_heart",
        "alstory:heinrich",
        "1",
        "dialog"
      ]
    },
    {
      "id": "inland",
      "objectiveId": "village",
      "onCompleteActions": "addjournalentry alstory:village_heart alstory:village_heart-journal-title alstory:village_heart-journal-step1; addplayerattribute alstory_vh_stage village",
      "args": [
        "derevnia"
      ]
    },
    {
      "id": "interactat",
      "objectiveId": "crystal1",
      "onCompleteActions": "addplayerint alstory:ritualcrystals 1 3; cooldownblock 240 '-1240,60,-12730'; addjournalentry alstory:village_heart alstory:village_heart-journal-title alstory:village_heart-journal-crystal1",
      "args": [
        "-1240,60,-12730",
        "alstory-keepers-key"
      ],
      "description": "Уничтожить кристалл на краю деревни (нужно держать Ключ Хранителя)"
    },
    {
      "id": "interactat",
      "objectiveId": "crystal2",
      "onCompleteActions": "addplayerint alstory:ritualcrystals 1 3; cooldownblock 240 '-1245,60,-12735'; addjournalentry alstory:village_heart alstory:village_heart-journal-title alstory:village_heart-journal-crystal2",
      "args": [
        "-1245,60,-12735",
        "alstory-keepers-key"
      ],
      "description": "Уничтожить кристалл в расщелине у жертвенного камня (нужно держать Ключ Хранителя)"
    },
    {
      "id": "interactat",
      "objectiveId": "crystal3",
      "onCompleteActions": "addplayerint alstory:ritualcrystals 1 3; cooldownblock 240 '-1250,60,-12740'; addjournalentry alstory:village_heart alstory:village_heart-journal-title alstory:village_heart-journal-crystal3",
      "args": [
        "-1250,60,-12740",
        "alstory-keepers-key"
      ],
      "description": "Уничтожить кристалл в одном из домов деревни (нужно держать Ключ Хранителя)"
    },
    {
      "id": "interactcount",
      "objectiveId": "crystals",
      "onCompleteActions": "addjournalentry alstory:village_heart alstory:village_heart-journal-title alstory:village_heart-journal-step2; addplayerattribute alstory_vh_stage crystals; consumeactionitem alstory-ritual-crystalbreaker 1",
      "args": [
        "-1240,60,-12730",
        "-1245,60,-12735",
        "-1250,60,-12740"
      ]
    },
    {
      "id": "interactwithentity",
      "objectiveId": "illa",
      "onCompleteActions": "addjournalentry alstory:village_heart alstory:village_heart-journal-title alstory:village_heart-journal-step3; addplayerattribute alstory_vh_stage illa; questitem alstory-armor-legs",
      "args": [
        "alstory:village_heart",
        "alstory:illa",
        "1",
        "dialog"
      ]
    }
  ],
  "actionRewards": [
    {
      "id": "addjournalentry",
      "args": [
        "alstory:village_heart",
        "alstory:village_heart-journal-title",
        "alstory:village_heart-journal-step4"
      ]
    },
    {
      "id": "playsound",
      "args": [
        "alegacyvsquest:sounds/quecomp",
        "0.175"
      ]
    },
    {
      "id": "showquestfinaldialog",
      "args": [
        "alstory:final-village-title",
        "alstory:final-village-text",
        "alstory:final-village-option"
      ]
    }
  ]
}
